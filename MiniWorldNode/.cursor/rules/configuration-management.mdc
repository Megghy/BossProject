---
description:
globs:
alwaysApply: false
---
# é…ç½®ç®¡ç†æŒ‡å—

## é…ç½®æ–‡ä»¶ç»“æ„
ä¸»é…ç½®æ–‡ä»¶ä½äº [appsettings.json](mdc:appsettings.json)ã€‚

## é…ç½®æ¨¡å‹
é…ç½®æ˜ å°„åˆ° [Models/ServerSettings.cs](mdc:Models/ServerSettings.cs) ç±»ã€‚

## å…³é”®é…ç½®é¡¹

### ğŸŒ è¿æ¥è®¾ç½®
- **HubUrl**: ä¸»æœåŠ¡å™¨ SignalR Hub åœ°å€
- **NodeId**: å½“å‰èŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†
- **NodeName**: èŠ‚ç‚¹æ˜¾ç¤ºåç§°

### ğŸ“ è·¯å¾„è®¾ç½®
- **DefaultMapPath**: é»˜è®¤åœ°å›¾æ–‡ä»¶å¤¹è·¯å¾„ (`Maps/DefaultMap`)
- **MapsDirectory**: åœ°å›¾å­˜å‚¨ç›®å½• (`Maps`)
- **LogsDirectory**: æ—¥å¿—å­˜å‚¨ç›®å½• (`Logs`)
- **TShockPath**: TShock æœåŠ¡å™¨å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„

### ğŸ”§ è¿è¡Œæ—¶è®¾ç½®
- **BasePort**: åŸºç¡€ç«¯å£å· (é»˜è®¤ 7777)
- **MaxRetryAttempts**: æœ€å¤§é‡è¯•æ¬¡æ•°
- **RetryDelaySeconds**: é‡è¯•å»¶è¿Ÿæ—¶é—´

## ä½¿ç”¨é…ç½®

### ğŸ’‰ ä¾èµ–æ³¨å…¥
```csharp
public MyService(IOptions<ServerSettings> settings)
{
    _settings = settings.Value;
}
```

### ğŸ“ åœ¨ Program.cs ä¸­æ³¨å†Œ
```csharp
services.Configure<ServerSettings>(
    context.Configuration.GetSection("ServerSettings"));
```

## é…ç½®éªŒè¯
- å¯åŠ¨æ—¶è‡ªåŠ¨éªŒè¯å¿…éœ€çš„è·¯å¾„å’Œæ–‡ä»¶
- åˆ›å»ºä¸å­˜åœ¨çš„ç›®å½•
- éªŒè¯ TShock ç¨‹åºæ˜¯å¦å­˜åœ¨

## ç¯å¢ƒé…ç½®
æ”¯æŒä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶:
- `appsettings.json` - åŸºç¡€é…ç½®
- `appsettings.Development.json` - å¼€å‘ç¯å¢ƒ
- `appsettings.Production.json` - ç”Ÿäº§ç¯å¢ƒ

## é…ç½®çƒ­é‡è½½
é…ç½®æ–‡ä»¶æ”¯æŒçƒ­é‡è½½ï¼Œä½†æŸäº›è®¾ç½®éœ€è¦é‡å¯åº”ç”¨ç¨‹åºæ‰èƒ½ç”Ÿæ•ˆ:
- è¿æ¥åœ°å€å’Œç«¯å£
- æ–‡ä»¶è·¯å¾„è®¾ç½®
- èŠ‚ç‚¹æ ‡è¯†ä¿¡æ¯

