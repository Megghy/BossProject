---
description:
globs:
alwaysApply: false
---
# è¿·ä½ ä¸–ç•Œå¤šæœåŠ¡å™¨å®¢æˆ·ç«¯ - é¡¹ç›®ç»“æ„æŒ‡å—

## é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªç”¨äºç®¡ç†æ¸¸æˆå¤šæœåŠ¡å™¨çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œé€šè¿‡ SignalR è¿æ¥åˆ°ä¸»æœåŠ¡å™¨å¹¶ç®¡ç† TShock æ¸¸æˆæœåŠ¡å™¨å®ä¾‹ã€‚

## æ ¸å¿ƒæ¶æ„ç»„ä»¶

### ğŸ¯ ä¸»å…¥å£ç‚¹
- [Program.cs](mdc:Program.cs) - åº”ç”¨ç¨‹åºä¸»å…¥å£ï¼Œé…ç½®ä¾èµ–æ³¨å…¥å’Œæ‰˜ç®¡æœåŠ¡

### ğŸ“‹ æ•°æ®æ¨¡å‹å±‚ (Models/)
- [Models/ServerSettings.cs](mdc:Models/ServerSettings.cs) - æœåŠ¡å™¨é…ç½®æ¨¡å‹
- [Models/GameServerInfo.cs](mdc:Models/GameServerInfo.cs) - æ¸¸æˆæœåŠ¡å™¨ä¿¡æ¯å’ŒçŠ¶æ€æšä¸¾
- [Models/Commands.cs](mdc:Models/Commands.cs) - SignalR å‘½ä»¤æ¨¡å‹å’ŒèŠ‚ç‚¹ä¿¡æ¯

### ğŸ”§ ä¸šåŠ¡æœåŠ¡å±‚ (Services/)
- [Services/GameServerManager.cs](mdc:Services/GameServerManager.cs) - æ ¸å¿ƒæœåŠ¡å™¨ç®¡ç†é€»è¾‘
- [Services/SignalRClientService.cs](mdc:Services/SignalRClientService.cs) - SignalR å®¢æˆ·ç«¯é€šä¿¡
- [Services/NodeInfoService.cs](mdc:Services/NodeInfoService.cs) - èŠ‚ç‚¹æ€§èƒ½ç›‘æ§
- [Services/ConsoleCommandService.cs](mdc:Services/ConsoleCommandService.cs) - æœ¬åœ°æ§åˆ¶å°ç®¡ç†

### âš™ï¸ é…ç½®æ–‡ä»¶
- [appsettings.json](mdc:appsettings.json) - åº”ç”¨ç¨‹åºé…ç½®è®¾ç½®

## è®¾è®¡æ¨¡å¼
- **ä¾èµ–æ³¨å…¥**: ä½¿ç”¨ Microsoft.Extensions.DependencyInjection
- **åå°æœåŠ¡**: ä½¿ç”¨ BackgroundService è¿›è¡Œé•¿æœŸè¿è¡Œä»»åŠ¡
- **é€‰é¡¹æ¨¡å¼**: ä½¿ç”¨ IOptions<T> è¿›è¡Œé…ç½®ç®¡ç†
- **å‘å¸ƒè®¢é˜…**: SignalR äº‹ä»¶é©±åŠ¨é€šä¿¡

## æ•°æ®æµå‘
1. SignalR æ¥æ”¶ä¸»æœåŠ¡å™¨å‘½ä»¤
2. è§£æå‘½ä»¤å¹¶è°ƒç”¨ç›¸åº”çš„æœåŠ¡æ–¹æ³•
3. æ¸¸æˆæœåŠ¡å™¨ç®¡ç†å™¨å¤„ç†ä¸šåŠ¡é€»è¾‘
4. è¿”å›ç»“æœé€šè¿‡ SignalR å‘é€ç»™ä¸»æœåŠ¡å™¨
